<storyContext>
  <story id="10.5" title="AG-UI and Protocol Integration Tests" epic="10" />

  <summary>
    Add integration tests for MCP tool invocation, A2A sessions, and AG-UI event
    streaming, including rate limiting assertions.
  </summary>

  <requirements>
    <acceptanceCriteria>MCP tool invocation returns expected responses.</acceptanceCriteria>
    <acceptanceCriteria>A2A session lifecycle maintained across messages.</acceptanceCriteria>
    <acceptanceCriteria>AG-UI streaming emits expected events.</acceptanceCriteria>
    <acceptanceCriteria>Rate limiting returns Retry-After on exceed.</acceptanceCriteria>
  </requirements>

  <constraints>
    <constraint>Tests should avoid external dependencies beyond integration fixtures.</constraint>
  </constraints>

  <references>
    <reference path="docs/epics/epic-10-tech-spec.md" section="Story Breakdown" />
    <reference path="docs/epics/epic-10-testing-infrastructure.md" section="Story 10.5" />
  </references>
</storyContext>
